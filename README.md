# unocss-preset-daisy

Fully (i think so) compatible [UnoCSS](https://github.com/unocss/unocss) preset for [daisyUI](https://github.com/saadeghi/daisyui)

Variants (hover, focus, etc.) supported.

This is a rework of kidonng's [unocss-preset-daisy](https://github.com/kidonng/unocss-preset-daisy) to make it work with UnoCSS variants, kudos to him for the original work.

[Checkout the demo!](https://unscatty.github.io/unocss-preset-daisy/)

## :warning: :warning: :warning: Warning :warning: :warning: :warning:
This preset makes heavy usage of shortcuts and rules, so, when using the UnoCSS VSCode extension, editor may become laggy. I recommend disabling the extension's color preview to help with that.

```js
// in your global settings.json or workspace settings.json
{
  "unocss.colorPreview": false
}
```

Auto-completion suggestions may also take a while to appear, this is due to the amount of shortcuts generated by the preset.

## Installation

```sh
npm install unocss daisyui @unscatty/unocss-preset-daisy
```

## Usage

> **Note**: `@unocss/reset` comes with `unocss`. If you are using pnpm, install it separately unless you enable hoisting.

### Vite

```js
import { defineConfig } from 'vite'
import unocss from 'unocss/vite'
import { presetUno } from 'unocss'
import { presetDaisy } from '@unscatty/unocss-preset-daisy'

export default defineConfig({
  plugins: [
    unocss({
      presets: [presetUno(), presetDaisy()],
    }),
  ],
})
```

```js
// main.js
import '@unocss/reset/tailwind.css'
import 'uno.css'
```

### Astro

```js
import { defineConfig } from 'astro/config'
import unocss from 'unocss/astro'
import { presetUno } from 'unocss'
import { presetDaisy } from '@unscatty/unocss-preset-daisy'

export default defineConfig({
  integrations: [
    unocss({
      presets: [presetUno(), presetDaisy()],
      injectReset: true,
    }),
  ],
})
```

### Nuxt

To use UnoCSS with Nuxt, `@unocss/nuxt` must be installed as well.

```js
import { defineNuxtConfig } from 'nuxt/config'
import { presetUno } from 'unocss'
import { presetDaisy } from '@unscatty/unocss-preset-daisy'

export default defineNuxtConfig({
  modules: ['@unocss/nuxt'],
  css: ['@unocss/reset/tailwind.css'],
  unocss: {
    presets: [presetUno(), presetDaisy()],
  },
})
```

## Config

This preset accepts [the same config as daisyUI](https://daisyui.com/docs/config/) (except for `logs` and `prefix`).

```js
{
	presets: [
		presetUno(),
		presetDaisy({
			styled: false,
			themes: ['light', 'dark'],
		}),
	],
}
```

## Caveats
### Unused classes, variable names and keyframes
When generating the shortcuts and rules from daisyUI, some CSS code (preflights) get generated. Some of them may not be used in your project, but they will still be generated and included in the final CSS. This is due to the way this preset generates the rules and shortcuts, I still need to figure out a way to fix this, but for now, it's not a big deal, as the unused code is not that big (mostly keyframes definitions, variables that hold data-url svg elements and themes configuration).

Other than that, code for components is generated on demand, as expected.

If you are concerned about this, you can use something like [PurgeCSS](https://purgecss.com/) to remove the unused code from the final CSS. If you use Vite to build your project, you can use the [Vite plugin](https://github.com/jowast/vite-plugin-purgecss) for PurgeCSS.

## TODO
- [ ] Make demo less ugly. Organize components in their own pages, add more components, etc.
- [ ] Fix unused code generation (move keyframes to preset config insted of preflights, convert variables to CSS object definition).
- [ ] Make it possible to extend components using shortcuts, scoped by theme. Potentially by using the [unocss-preset-theme](https://github.com/unpreset/unocss-preset-theme). So, defining a new theme would be way easier.
- [ ] Rename functions to make it more clear what they do.
- [ ] Add tests
- [ ] Remove static daisyUI component files

## Credits
- [daisyUI](https://github.com/saadeghi/daisyui)
- [UnoCSS](https://github.com/unocss/unocss)
- kidonng's [unocss-preset-daisy](https://github.com/kidonng/unocss-preset-daisy) - inspiration and base for this preset
## Authors
- Carlos Aguilera ([@unscatty](https://github.com/unscatty)) - Creator, maintainer
